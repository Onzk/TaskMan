<div class="drawer-side z-[190]">
    <label for="my-drawer" aria-label="close sidebar" class="drawer-overlay"></label>
    <div class="backdrop-blur-md">
        <ul
            class="menu rounded-md min-h-full rounded-none border-r-4 border-blue-500 p-4 min-w-80 max-w-96 bg-base-200/90 text-base-content">
            <p class="font-bold mb-4 ml-4 text-xl">Categories tree</p>
            {% for category in categories %}
            {% if category.id == "@" %}
            <li>
                <label for="my-drawer" class="flex pr-1 justify-between items-center" onclick="goToId('todo')">
                    <span class="flex justify-start items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
                            stroke="currentColor" class="w-5 h-5 mr-2">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="m21 7.5-2.25-1.313M21 7.5v2.25m0-2.25-2.25 1.313M3 7.5l2.25-1.313M3 7.5l2.25 1.313M3 7.5v2.25m9 3 2.25-1.313M12 12.75l-2.25-1.313M12 12.75V15m0 6.75 2.25-1.313M12 21.75V19.5m0 2.25-2.25-1.313m0-16.875L12 2.25l2.25 1.313M21 14.25v2.25l-2.25 1.313m-13.5 0L3 16.5v-2.25" />
                        </svg>
                        To-Do
                    </span>
                    <div class="badge text-blue-400 rounded">{{ category.containsTasks(tasks).__len__() }}</div>
                </label>
            </li>
            {% else %}
            <li>
                <details open>
                    <summary>
                        <label for="my-drawer" class="flex justify-between items-start"
                            onclick="goToId('category{{ category.id }}')">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor" class="w-5 h-5 flex-none mr-2">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z" />
                            </svg>
                            {{ category.description }}
                        </label>
                        <div class="badge text-blue-400 rounded">{{ category.containsTasks(tasks).__len__() }}</div>
                    </summary>
                    <ul>
                        {% for sub_category in category.sub_categories %}
                        <li>
                            <label for="my-drawer" class="flex justify-between items-center pr-1"
                                onclick="goToId('category{{ category.id }}')">
                                <span class="flex justify-between items-start">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                        stroke-width="2" stroke="currentColor" class="w-5 h-5 mr-1 flex-none">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                            d="M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z" />
                                    </svg>
                                    {{ sub_category.description }}
                                </span>
                                <!-- <div class="badge">{{ category.containsTasks(tasks).__len__() }}</div> -->
                                <span
                                    class="badge text-blue-400 rounded">{{ sub_category.containsTasks(tasks).__len__() }}</span>
                            </label>
                        </li>
                        {% endfor %}
                    </ul>
                </details>
            </li>
            {% endif %}
            {% endfor %}
        </ul>
        <!-- <ul class="">
            <p class="font-bold mb-4 ml-4 text-xl">Categories map</p>

            {% for category in categories %}
            <li>
                <label for="my-drawer" class="flex justify-between items-center"
                    onclick="goToId('category{{ category.id }}')">
                    {{ category.description }}
                    <div class="badge">{{ category.containsTasks(tasks).__len__() }}</div>
                </label>
            </li>
            {% endfor %}
        </ul> -->
    </div>
</div>